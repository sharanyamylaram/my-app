{"version":3,"sources":["components/login.component.js","components/edit.component.js","components/profile.component.js"],"names":["required","value","className","role","firstname","lastname","location","mobile","token","Login","props","handleLogin","bind","onChangeemail","onChangePassword","state","email","password","loading","this","dispatch","getAllUsers","e","setState","target","preventDefault","form","validateAll","history","Emails","users","map","user","passes","com","first","last","loc","mob","mobileno","id","all","console","log","count","pswrd","n","length","pl","i","checkBtn","context","_errors","login","then","push","window","reload","catch","alert","isLoggedIn","message","to","src","alt","onSubmit","ref","c","htmlFor","style","color","type","name","onChange","validations","paddingLeft","paddingRight","borderRadius","disabled","float","onClick","display","Component","connect","auth","currentUser","isEmail","match","vpassword","Edit","load","params","index","onChangeEmail","onChangefirstname","onChangelastname","onChangelocation","onChangemobileno","handleRegister","successful","updateUser","Profile","delete","confirm","deleteUser","logout","edit"],"mappings":"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","file":"static/js/4.2aa051b9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { getAllUsers, login } from \"../actions/auth\";\r\nimport Profile from \"./profile.component\";\r\n\r\nimport { isEmail } from \"validator\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\nvar firstname = \"\",\r\n  lastname = \"\",\r\n  location = \"\",\r\n  mobile = \"\",\r\n  token = \"\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.onChangeemail = this.onChangeemail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n\r\n      loading: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getAllUsers());\r\n  }\r\n  onChangeemail(e) {\r\n    this.setState({ email: e.target.value });\r\n  }\r\n  onChangePassword(e) {\r\n    this.setState({ password: e.target.value });\r\n  }\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    this.form.validateAll();\r\n\r\n    const { dispatch, history } = this.props;\r\n    //console.log(this.props.users);\r\n    var Emails = this.props.users.map((user) => user.email);\r\n    var passes = this.props.users.map((user) => user.password);\r\n    var com = [...Emails, ...passes];\r\n    var first = this.props.users.map((user) => user.firstname);\r\n    var last = this.props.users.map((user) => user.lastname);\r\n    var loc = this.props.users.map((user) => user.location);\r\n    var mob = this.props.users.map((user) => user.mobileno);\r\n    var id = this.props.users.map((user) => user.id);\r\n    var all = [...first, ...last, ...loc, ...mob, ...id];\r\n    console.log(all);\r\n    let count = 0;\r\n    var email = this.state.email;\r\n    var pswrd = this.state.password;\r\n    var n = com.length / 2;\r\n    var pl = n;\r\n    for (var i = 0; i < n; i++) {\r\n      if (email == com[i]) {\r\n        if (pswrd == com[pl]) {\r\n          count++;\r\n          firstname = all[i];\r\n          lastname = all[i + n];\r\n          location = all[i + n + n];\r\n          mobile = all[i + n + n + n];\r\n          token = all[i + n + n + n + n];\r\n        }\r\n      }\r\n      pl++;\r\n    }\r\n    console.log(firstname, lastname, location, mobile, token);\r\n\r\n    if (count == 1) {\r\n      if (this.checkBtn.context._errors.length === 0) {\r\n        dispatch(\r\n          login(\r\n            this.state.email,\r\n            this.state.password,\r\n            firstname,\r\n            lastname,\r\n            location,\r\n            mobile,\r\n            token\r\n          )\r\n        )\r\n          .then(() => {\r\n            history.push(\"/profile\");\r\n\r\n            window.location.reload();\r\n          })\r\n          .catch(() => {\r\n            this.setState({ loading: false });\r\n          });\r\n      }\r\n    } else {\r\n      this.setState({ loading: false });\r\n      alert(\"Invalid Details / User Not Registered\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn, message } = this.props;\r\n    //console.log(this.props.users);\r\n    if (isLoggedIn) {\r\n      return <Redirect to=\"/profile\" />;\r\n    }\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container signin\">\r\n          <img\r\n            src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdkv9-Md8iPZLs4dHPzLfcyShE1zQivYaBcQ&usqp=CAU\"\r\n            alt=\"profile-img\"\r\n            className=\"profile-img-card\"\r\n          />\r\n\r\n          <Form\r\n            onSubmit={this.handleLogin}\r\n            ref={(c) => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\" style={{ color: \"white\" }}>\r\n                Email\r\n              </label>\r\n              <Input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                value={this.state.email}\r\n                onChange={this.onChangeemail}\r\n                validations={[required]}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\" style={{ color: \"white\" }}>\r\n                Password\r\n              </label>\r\n              <Input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                value={this.state.password}\r\n                onChange={this.onChangePassword}\r\n                validations={[required]}\r\n              />\r\n            </div>\r\n            <br />\r\n            <div className=\"form-group\">\r\n              <button\r\n                className=\"btn btn-info\"\r\n                style={{\r\n                  paddingLeft: 50,\r\n                  paddingRight: 50,\r\n                  borderRadius: 50,\r\n                }}\r\n                disabled={this.state.loading}\r\n              >\r\n                {this.state.loading && (\r\n                  <span className=\"spinner-border spinner-border-sm\"></span>\r\n                )}\r\n                <span>Login</span>\r\n              </button>{\" \"}\r\n            </div>\r\n            <button\r\n              className=\"btn btn-info\"\r\n              style={{\r\n                paddingLeft: 50,\r\n                paddingRight: 50,\r\n                borderRadius: 50,\r\n                float: \"right\",\r\n              }}\r\n              onClick={() => {\r\n                this.props.history.push(\"/register\");\r\n              }}\r\n            >\r\n              <span>Register</span>\r\n            </button>\r\n            {message && (\r\n              <div className=\"form-group\">\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  {message}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={(c) => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const { isLoggedIn } = state.auth;\r\n  const { message } = state.message;\r\n  const { users } = state.auth;\r\n  return {\r\n    isLoggedIn,\r\n    message,\r\n    users,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\nimport { getAllUsers, register, updateUser } from \"../actions/auth\";\r\nimport { connect } from \"react-redux\";\r\n\r\nvar currentUser = {};\r\nvar token = \"\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst email = (value) => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid email.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst firstname = (value) => {\r\n  if (value.length < 3 || value.length > 20 || !value.match(\"[a-zA-Z_]+\")) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid Name.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst lastname = (value) => {\r\n  if (value.length < 3 || value.length > 20 || !value.match(\"[a-zA-Z_]+\")) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid Name.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst location = (value) => {\r\n  if (value.length < 3 || value.length > 20 || !value.match(\"[a-zA-Z_]+\")) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid Location.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mobileno = (value) => {\r\n  if (!value.match(\"^[0-9]{10}$\")) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid Number.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vpassword = (value) => {\r\n  if (\r\n    !value.match(\r\n      \"^.*(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])[a-zA-Z0-9@#$%^&+=]*$\"\r\n    )\r\n  ) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        <ul>\r\n          <li>The password must be min 8 characters.</li>\r\n          <li>\r\n            Must contain atleast one uppercase, lowercase and a special\r\n            character.\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nclass Edit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      successful: false,\r\n    };\r\n  }\r\n  componentWillMount() {\r\n    this.props.dispatch(getAllUsers());\r\n  }\r\n\r\n  load = () => {\r\n    token = this.props.match.params.id;\r\n    //console.log(this.props.users);\r\n    if (this.props.users) {\r\n      var Emails = this.props.users.map((user) => user.email);\r\n      var passes = this.props.users.map((user) => user.password);\r\n      var first = this.props.users.map((user) => user.firstname);\r\n      var last = this.props.users.map((user) => user.lastname);\r\n      var loc = this.props.users.map((user) => user.location);\r\n      var mob = this.props.users.map((user) => user.mobileno);\r\n      var id = this.props.users.map((user) => user.id);\r\n      var all = [...Emails, ...passes, ...first, ...last, ...loc, ...mob];\r\n      var n = all.length / 6;\r\n      var index = \"\";\r\n      //console.log(all);\r\n      //console.log(id);\r\n      for (var i = 0; i < id.length; i++) {\r\n        if (token == id[i]) {\r\n          index = i;\r\n        }\r\n      }\r\n      currentUser.email = all[index];\r\n      currentUser.password = all[index + n];\r\n      currentUser.firstname = all[index + n + n];\r\n      currentUser.lastname = all[index + n + n + n];\r\n      currentUser.location = all[index + n + n + n + n];\r\n      currentUser.mobileno = all[index + n + n + n + n + n];\r\n      //console.log(currentUser);\r\n    }\r\n  };\r\n\r\n  onChangeEmail = (e) => {\r\n    currentUser.email = e.target.value;\r\n    /*  this.setState({\r\n      email: e.target.value,\r\n    }); */\r\n  };\r\n\r\n  onChangePassword = (e) => {\r\n    currentUser.password = e.target.value;\r\n  };\r\n\r\n  onChangefirstname = (e) => {\r\n    currentUser.firstname = e.target.value;\r\n  };\r\n  onChangelastname = (e) => {\r\n    currentUser.lastname = e.target.value;\r\n  };\r\n  onChangelocation = (e) => {\r\n    currentUser.location = e.target.value;\r\n  };\r\n  onChangemobileno = (e) => {\r\n    currentUser.mobileno = e.target.value;\r\n  };\r\n\r\n  handleRegister = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      successful: false,\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      this.props\r\n        .dispatch(\r\n          updateUser(\r\n            currentUser.email,\r\n            currentUser.password,\r\n            currentUser.firstname,\r\n            currentUser.lastname,\r\n            currentUser.location,\r\n            currentUser.mobileno,\r\n            token\r\n          )\r\n        )\r\n        .then(() => {\r\n          this.setState({\r\n            successful: true,\r\n          });\r\n          this.props.history.push(\"/profile\");\r\n          window.location.reload();\r\n        });\r\n    } else {\r\n      this.setState({\r\n        successful: false,\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n          <Form\r\n            onSubmit={this.handleRegister}\r\n            ref={(c) => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            {this.load()}\r\n\r\n            {!this.state.successful && (\r\n              <div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control \"\r\n                    name=\"email\"\r\n                    value={currentUser.email}\r\n                    onChange={this.onChangeEmail}\r\n                    validations={[required, email]}\r\n                    disabled\r\n                  ></Input>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"firstname\">Firstname</label>\r\n                  <Input\r\n                    type=\"firstname\"\r\n                    className=\"form-control\"\r\n                    name=\"firstname\"\r\n                    value={currentUser.firstname}\r\n                    onChange={this.onChangefirstname}\r\n                    validations={[required, firstname]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"lastname\">Lastname</label>\r\n                  <Input\r\n                    type=\"lastname\"\r\n                    className=\"form-control\"\r\n                    name=\"lastname\"\r\n                    value={currentUser.lastname}\r\n                    onChange={this.onChangelastname}\r\n                    validations={[required, lastname]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"location\">Location</label>\r\n                  <Input\r\n                    type=\"location\"\r\n                    className=\"form-control\"\r\n                    name=\"location\"\r\n                    value={currentUser.location}\r\n                    onChange={this.onChangelocation}\r\n                    validations={[required, location]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"mobileno\">Mobile No</label>\r\n                  <Input\r\n                    type=\"mobileno\"\r\n                    className=\"form-control\"\r\n                    name=\"mobileno\"\r\n                    value={currentUser.mobileno}\r\n                    onChange={this.onChangemobileno}\r\n                    validations={[required, mobileno]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    value={currentUser.password}\r\n                    onChange={this.onChangePassword}\r\n                    validations={[required, vpassword]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <button\r\n                    className=\"btn btn-warning \"\r\n                    style={{\r\n                      paddingLeft: 50,\r\n                      paddingRight: 50,\r\n                      borderRadius: 50,\r\n                    }}\r\n                  >\r\n                    Confirm\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={(c) => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const { user } = state.auth;\r\n  const { users } = state.auth;\r\n  const { message } = state.message;\r\n  return {\r\n    user,\r\n    users,\r\n    message,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Edit);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Input from \"react-validation/build/input\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as auth from \"../actions/auth\";\r\nimport { logout, deleteUser } from \"../actions/auth\";\r\nimport { getAllUsers } from \"../actions/auth\";\r\nimport Edit from \"./edit.component\";\r\nvar id = \"\";\r\nvar currentUser = {};\r\nclass Profile extends Component {\r\n  componentDidMount() {\r\n    // window.location.reload(false);\r\n  }\r\n  delete = () => {\r\n    var result = window.confirm(\r\n      \"Are you sure you want to Delete your Account?\"\r\n    );\r\n    if (result == true) {\r\n      this.props.dispatch(deleteUser(id));\r\n\r\n      this.props.dispatch(logout());\r\n      this.props.history.push(\"/home\");\r\n      window.location.reload();\r\n    } else {\r\n      this.props.history.push(\"/profile\");\r\n    }\r\n  };\r\n\r\n  edit = () => {\r\n    this.props.history.push(`/edit/${id}`);\r\n  };\r\n\r\n  render() {\r\n    currentUser = this.props.user;\r\n    // console.log(currentUser);\r\n\r\n    if (!currentUser) {\r\n      //return <Redirect to=\"/login\" />;\r\n      this.props.history.push(\"/profile\");\r\n      window.location.reload();\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <header className=\"jumbotron\">\r\n          <h3>\r\n            <strong>\r\n              {currentUser.firstname} {currentUser.lastname}\r\n            </strong>{\" \"}\r\n            Profile\r\n          </h3>\r\n        </header>\r\n        <p>\r\n          <strong>Id: </strong>\r\n          {currentUser.token}\r\n          <span style={{ display: \"none\" }}>{(id = currentUser.token)}</span>\r\n        </p>\r\n        <p>\r\n          <strong>First Name: </strong>\r\n          {currentUser.firstname}\r\n        </p>\r\n        <p>\r\n          <strong>Last Name: </strong>\r\n          {currentUser.lastname}\r\n        </p>\r\n        <p>\r\n          <strong>Email: </strong>\r\n          {currentUser.email}\r\n        </p>\r\n        <p>\r\n          <strong>Password: </strong>\r\n          {currentUser.password}\r\n        </p>\r\n        <p>\r\n          <strong>Mobile: </strong>\r\n          {currentUser.mobileno}\r\n        </p>\r\n        <p>\r\n          <strong>Location: </strong>\r\n          {currentUser.location}\r\n        </p>\r\n        <button className=\"btn btn-info\" onClick={this.edit}>\r\n          Edit\r\n        </button>{\" \"}\r\n        <button className=\"btn btn-danger\" onClick={this.delete}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const { user } = state.auth;\r\n  const { users } = state.auth;\r\n  return {\r\n    user,\r\n    users,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n"],"sourceRoot":""}