(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{13:function(t,e,n){"use strict";n.d(e,"j",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"g",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"r",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return v})),n.d(e,"p",(function(){return g})),n.d(e,"a",(function(){return S})),n.d(e,"m",(function(){return I})),n.d(e,"s",(function(){return k})),n.d(e,"q",(function(){return C})),n.d(e,"k",(function(){return E})),n.d(e,"l",(function(){return N})),n.d(e,"n",(function(){return R})),n.d(e,"o",(function(){return w})),n.d(e,"t",(function(){return L}));var r=n(16),a=n(2),c=(n(0),n(18)),o=n(19),i=n(6),u=n.n(i),s="http://localhost:3004/signup/",l=new(function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"login",value:function(t,e,n,r,a,c,o){return u.a.post("http://localhost:3004/signin",{email:t,password:e,firstname:n,lastname:r,location:a,mobileno:c,token:o}).then((function(t){return localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getAllUsers",value:function(){return u.a.get(s).then((function(t){return t.data}))}},{key:"register",value:function(t,e,n,r,a,c){return u.a.post(s,{email:t,password:e,firstname:n,lastname:r,location:a,mobileno:c})}},{key:"deleteUser",value:function(t){return u.a.delete(s+t).then((function(t){console.log(t.data)}))}},{key:"updateUser",value:function(t,e,n,r,a,c,o){return u.a.put(s+o,{email:t,password:e,firstname:n,lastname:r,location:a,mobileno:c,token:o}).then((function(t){return localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"getAllItems",value:function(){return u.a.get("http://localhost:3001/items").then((function(t){return t.data}))}},{key:"AddCart",value:function(t,e,n,r,a){return u.a.post("http://localhost:3001/cart",{img:t,title:e,desc:n,price:r,quantity:a})}},{key:"ViewCart",value:function(){return u.a.get("http://localhost:3001/cart").then((function(t){return t.data}))}},{key:"DeletefromCart",value:function(t){return u.a.delete("http://localhost:3001/cart/"+t)}},{key:"removeAllData",value:function(t){var e=t.map((function(t){return t.id}));console.log(e);for(var n=0;n<e.length;n++)u.a.delete("http://localhost:3001/cart/"+e[n])}},{key:"removeSelected",value:function(t){for(var e=0;e<t.length;e++)u.a.delete("http://localhost:3001/cart/"+t[e])}},{key:"updateCart",value:function(t,e,n,r,a,c){return u.a.put("http://localhost:3001/cart/"+t,{img:e,title:n,desc:r,price:a,quantity:c})}},{key:"saveView",value:function(t){return u.a.post("http://localhost:3001/view/",{img:t})}},{key:"viewRecent",value:function(){return u.a.get("http://localhost:3001/view/").then((function(t){return t.data}))}},{key:"removeAllRecent",value:function(t){var e=t.map((function(t){return t.id}));console.log(e);for(var n=0;n<e.length;n++)u.a.delete("http://localhost:3001/view/"+e[n])}}]),t}()),d=function(t,e,n,r,c,o){return function(i){return l.register(t,e,n,r,c,o).then((function(t){return i({type:a.l}),i({type:a.m,payload:{message:"Successfully Registered"}}),Promise.resolve()}),(function(t){var e=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return i({type:a.k}),i({type:a.m,payload:e}),Promise.reject()}))}},f=function(t,e,n,r,c,o,i){return function(u){return l.login(t,e,n,r,c,o,i).then((function(t){return u({type:a.g,payload:{user:t}}),Promise.resolve()}),(function(t){var e=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return u({type:a.f}),u({type:a.m,payload:e}),Promise.reject()}))}},p=function(){return function(t){l.logout(),t({type:a.h})}},m=function(){return function(t){return l.getAllUsers().then((function(e){t({type:a.e,payload:{users:e}})}))}},h=function(t){return function(e){return l.deleteUser(t)}},b=function(t,e,n,r,c,o,i){return function(u){return l.updateUser(t,e,n,r,c,o,i).then((function(t){u({type:a.g,payload:{user:t}})}))}},j=function(){return function(t){return l.getAllItems().then((function(e){t({type:a.d,payload:e})}))}},O=function(t,e){return function(n){n({type:a.b,payload:{cat:e,items:""===e?t:t.filter((function(t){return t.category==e.toLowerCase()}))}})}},y=function(t){return function(e){e({type:a.j,payload:t})}},v=function(t,e){return function(n){n({type:a.c,payload:{items:""===e?t:t.filter((function(t){return t.subcategory==e.toLowerCase()}))}})}},g=function(t,e){return function(n){var r=t.slice();""!==e?r.sort((function(t,n){return"lowestprice"===e?t.price>n.price?1:-1:t.price<n.price?1:-1})):r.sort((function(t,e){return t.id>e.id?1:-1})),n({type:a.i,payload:{sort:e,items:r}})}},x=[],S=function(t,e,n,a,c,o){return function(i){var u=t;return x=[].concat(Object(r.a)(x),[u]),l.AddCart(e,n,a,c,o).then((function(t){return t.data}))}},I=function(t){return function(e){return l.DeletefromCart(t)}},k=function(){return function(t){return l.ViewCart().then((function(e){t({type:a.n,payload:e})}))}},C=function(t,e,n,r,a,c){return function(o){return l.updateCart(t,e,n,r,a,c)}},E=function(t){return function(e){return l.removeAllData(t)}},N=function(t){return function(e){return l.removeAllRecent(t)}},R=function(t){return function(e){return l.removeSelected(t)}},w=function(t){return function(e){return l.saveView(t)}},L=function(){return function(t){return l.viewRecent().then((function(e){t({type:a.o,payload:e})}))}}},2:function(t,e,n){"use strict";n.d(e,"l",(function(){return r})),n.d(e,"k",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"m",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return b})),n.d(e,"i",(function(){return j}));var r="REGISTER_SUCCESS",a="REGISTER_FAIL",c="LOGIN_SUCCESS",o="LOGIN_FAIL",i="LOGOUT",u="LOAD",s="SET_MESSAGE",l="CLEAR_MESSAGE",d="VIEWCART",f="VIEWRECENT",p="RECENTFILTER",m="GET_PRODUCTS",h="FILTER_PRODUCTS_BY_CATEGORY",b="FILTER_PRODUCTS_BY_SEARCH",j="ORDER_PRODUCTS_BY_PRICE"},31:function(t,e,n){"use strict";var r=n(2),a={};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case r.m:return{message:c.message};case r.a:return{message:""};default:return t}}},40:function(t,e,n){},51:function(t,e,n){},53:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),i=n(20),u=n(14),s=(n(50),n(26)),l=n(4),d=n(2),f=JSON.parse(localStorage.getItem("user")),p=f?{isLoggedIn:!0,user:f}:{isLoggedIn:!1,user:null},m=n(31),h=n(16),b={items:[],filteredItems:[],size:"",sort:"",cat:"",addedItems:[],total:0,cartItems:[],recentItems:[],filteredrecentItems:[]},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;if(e.type===d.d)return Object(l.a)(Object(l.a)({},t),{},{items:e.payload,filteredItems:e.payload});if(e.type===d.b)return console.log(e.payload.items),Object(l.a)(Object(l.a)({},t),{},{filteredItems:e.payload.items,cat:e.payload.cat});if(e.type===d.c)return console.log(e.payload.items),Object(l.a)(Object(l.a)({},t),{},{filteredItems:e.payload.items});if(e.type===d.i)return console.log(t),Object(l.a)(Object(l.a)({},t),{},{filteredItems:e.payload.items,sort:e.payload.sort});if(e.type===d.n){var n=e.payload,r=n.map((function(t){return t.price})),a=n.map((function(t){return t.quantity})),c=[].concat(Object(h.a)(r),Object(h.a)(a)),o=c.length/2,i=o;t.total=0;for(var u=0;u<o;u++){var s;s=c[u]*c[i],t.total=t.total+s,i++}return Object(l.a)(Object(l.a)({},t),{},{cartItems:n,total:t.total})}return e.type===d.o?Object(l.a)(Object(l.a)({},t),{},{recentItems:e.payload,filteredrecentItems:e.payload}):e.type===d.j?Object(l.a)(Object(l.a)({},t),{},{filteredrecentItems:e.payload}):t},O=Object(u.combineReducers)({auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case d.e:return{users:r.users};case d.l:case d.k:return Object(l.a)(Object(l.a)({},t),{},{isLoggedIn:!1});case d.g:return Object(l.a)(Object(l.a)({},t),{},{isLoggedIn:!0,user:r.user});case d.f:case d.h:return Object(l.a)(Object(l.a)({},t),{},{isLoggedIn:!1,user:null});default:return t}},message:m.a,cartReducer:j}),y=(s.a,window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.compose),v=Object(u.createStore)(O,y(Object(u.applyMiddleware)(s.a))),g=(n(51),n(18)),x=n(19),S=n(23),I=n(30),k=n(29),C=n(5),E=n(12),N=(n(41),n(52),n(53),n(40),n(13)),R=n(8),w=Object(R.a)(),L=n(1),_=a.a.lazy((function(){return n.e(10).then(n.bind(null,190))})),A=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,191))})),T=a.a.lazy((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,192))})),U=a.a.lazy((function(){return n.e(7).then(n.bind(null,193))})),z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,88))})),P=a.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,82))})),D=a.a.lazy((function(){return n.e(15).then(n.bind(null,194))})),G=a.a.lazy((function(){return n.e(12).then(n.bind(null,195))})),F=a.a.lazy((function(){return n.e(13).then(n.bind(null,196))})),V=a.a.lazy((function(){return n.e(17).then(n.bind(null,197))})),B=function(t){Object(I.a)(n,t);var e=Object(k.a)(n);function n(t){var r;return Object(g.a)(this,n),(r=e.call(this,t)).logOut=r.logOut.bind(Object(S.a)(r)),r.state={currentUser:void 0},w.listen((function(e){t.dispatch({type:d.a})})),r}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.user;this.props.dispatch(Object(N.s)()),this.props.dispatch(Object(N.t)()),t&&this.setState({currentUser:t})}},{key:"logOut",value:function(){(this.props.items||this.props.recentItems)&&(this.props.dispatch(Object(N.k)(this.props.items)),this.props.dispatch(Object(N.l)(this.props.recentItems)),this.props.dispatch(Object(N.i)()))}},{key:"render",value:function(){var t=this.state.currentUser;return Object(L.jsx)(C.c,{history:w,children:Object(L.jsxs)("div",{className:"home",children:[Object(L.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light ",children:[Object(L.jsx)(E.a,{to:"/",className:"navbar-brand",children:"CraftNG"}),Object(L.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/home",className:"nav-link",style:{fontSize:"18px"},children:"Home"})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/about",className:"nav-link",style:{fontSize:"18px"},children:"About"})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/shopping",className:"nav-link",style:{fontSize:"18px"},children:"Shopping"})})]}),t?Object(L.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(L.jsx)("li",{children:Object(L.jsx)(E.a,{to:"/cart",class:"nav-link",style:{fontSize:"30px",color:"black"},children:"\ud83d\uded2"})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/profile",className:"nav-link",style:{fontSize:"18px"},children:t.firstname+t.lastname})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,style:{fontSize:"18px"},children:"LogOut"})})]}):Object(L.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/login",className:"nav-link",children:"Login"})}),Object(L.jsx)("li",{className:"nav-item",children:Object(L.jsx)(E.a,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(L.jsx)("div",{className:"container mt-3",children:Object(L.jsx)(C.d,{children:Object(L.jsxs)(r.Suspense,{fallback:Object(L.jsx)("div",{children:"Loading..."}),children:[Object(L.jsx)(C.b,{exact:!0,path:["/","/home"],component:_}),Object(L.jsx)(C.b,{exact:!0,path:"/login",component:A}),Object(L.jsx)(C.b,{exact:!0,path:"/register",component:T}),Object(L.jsx)(C.b,{exact:!0,path:"/profile",component:z}),Object(L.jsx)(C.b,{exact:!0,path:"/about",component:U}),Object(L.jsx)(C.b,{exact:!0,path:"/edit/:id",component:P}),Object(L.jsx)(C.b,{exact:!0,path:"/cart",component:G}),Object(L.jsx)(C.b,{exact:!0,path:"/shopping",component:D}),Object(L.jsx)(C.b,{exact:!0,path:"/details/:id",component:F}),Object(L.jsx)(C.b,{exact:!0,path:"/editCart/:id",component:V})]})})})]})})}}]),n}(r.Component);var J=Object(i.b)((function(t){return{items:t.cartReducer.cartItems,user:t.auth.user,recentItems:t.cartReducer.recentItems}}))(B),M=function(t){t&&t instanceof Function&&n.e(18).then(n.bind(null,198)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),c(t),o(t)}))};v.dispatch(Object(N.f)()),o.a.render(Object(L.jsx)(i.a,{store:v,children:Object(L.jsx)(J,{})}),document.getElementById("root")),M()}},[[74,2,3]]]);
//# sourceMappingURL=main.b4b01538.chunk.js.map